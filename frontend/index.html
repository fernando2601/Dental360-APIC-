<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DentalSpa - Sistema de Gestão</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary-color: #2c5282;
      --secondary-color: #3182ce;
      --success-color: #38a169;
      --warning-color: #d69e2e;
      --danger-color: #e53e3e;
    }
    
    .navbar-brand {
      font-weight: bold;
      font-size: 1.5rem;
    }
    
    .content-section {
      animation: fadeIn 0.3s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .card {
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      border-radius: 8px;
    }
    
    .table th {
      background-color: #f8f9fa;
      border-top: none;
    }
    
    .btn {
      border-radius: 6px;
    }
    
    .status-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.85rem;
    }
    
    .status-active { background-color: #c6f6d5; color: #22543d; }
    .status-scheduled { background-color: #bee3f8; color: #2c5282; }
    .status-completed { background-color: #c6f6d5; color: #22543d; }
    .status-cancelled { background-color: #fed7d7; color: #c53030; }
  </style>
</head>
<body>
  <div id="app">
    <!-- Header -->
    <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: var(--primary-color);">
      <div class="container-fluid">
        <a class="navbar-brand" href="#dashboard">
          <i class="fas fa-tooth"></i> DentalSpa
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link active" href="#dashboard" onclick="showSection('dashboard')">
                <i class="fas fa-chart-line"></i> Dashboard
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#clients" onclick="showSection('clients')">
                <i class="fas fa-users"></i> Clientes
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#appointments" onclick="showSection('appointments')">
                <i class="fas fa-calendar-alt"></i> Agendamentos
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#services" onclick="showSection('services')">
                <i class="fas fa-concierge-bell"></i> Serviços
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#staff" onclick="showSection('staff')">
                <i class="fas fa-user-md"></i> Funcionários
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#financial" onclick="showSection('financial')">
                <i class="fas fa-money-bill-wave"></i> Financeiro
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#inventory" onclick="showSection('inventory')">
                <i class="fas fa-boxes"></i> Estoque
              </a>
            </li>
          </ul>
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                <i class="fas fa-user"></i> Admin
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#profile">Perfil</a></li>
                <li><a class="dropdown-item" href="#settings">Configurações</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="#logout" onclick="logout()">Sair</a></li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid mt-4">
      
      <!-- Dashboard Section -->
      <div id="dashboard" class="content-section">
        <div class="row">
          <div class="col-12">
            <h2><i class="fas fa-chart-line"></i> Dashboard</h2>
            <p class="text-muted">Visão geral do sistema</p>
          </div>
        </div>
        
        <div class="row mb-4">
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--primary-color);">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="card-title">Total de Clientes</h6>
                    <h3 class="mb-0" id="totalClients">-</h3>
                  </div>
                  <div class="align-self-center">
                    <i class="fas fa-users fa-2x"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--success-color);">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="card-title">Agendamentos Hoje</h6>
                    <h3 class="mb-0" id="appointmentsToday">-</h3>
                  </div>
                  <div class="align-self-center">
                    <i class="fas fa-calendar-day fa-2x"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--warning-color);">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="card-title">Receita Mensal</h6>
                    <h3 class="mb-0" id="monthlyRevenue">-</h3>
                  </div>
                  <div class="align-self-center">
                    <i class="fas fa-money-bill-wave fa-2x"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--secondary-color);">
              <div class="card-body">
                <div class="d-flex justify-content-between">
                  <div>
                    <h6 class="card-title">Serviços Ativos</h6>
                    <h3 class="mb-0" id="totalServices">-</h3>
                  </div>
                  <div class="align-self-center">
                    <i class="fas fa-concierge-bell fa-2x"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-8">
            <div class="card">
              <div class="card-header">
                <h5><i class="fas fa-calendar-alt"></i> Próximos Agendamentos</h5>
              </div>
              <div class="card-body">
                <div id="upcomingAppointments">
                  <div class="text-center">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Carregando...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="card-header">
                <h5><i class="fas fa-chart-pie"></i> Status dos Bancos</h5>
              </div>
              <div class="card-body">
                <div id="databaseStatus">
                  <div class="text-center">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Carregando...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Clients Section -->
      <div id="clients" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-users"></i> Clientes</h2>
                <p class="text-muted">Gerencie os clientes da clínica</p>
              </div>
              <button class="btn btn-primary" onclick="showAddClientModal()">
                <i class="fas fa-plus"></i> Novo Cliente
              </button>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <div class="input-group">
              <span class="input-group-text"><i class="fas fa-search"></i></span>
              <input type="text" class="form-control" placeholder="Buscar cliente..." id="clientSearch" onkeyup="searchClients()">
            </div>
          </div>
          <div class="col-md-3">
            <select class="form-select" id="clientFilter" onchange="filterClients()">
              <option value="">Todos os clientes</option>
              <option value="true">Ativos</option>
              <option value="false">Inativos</option>
            </select>
          </div>
          <div class="col-md-3">
            <button class="btn btn-outline-primary w-100" onclick="loadClients()">
              <i class="fas fa-sync-alt"></i> Atualizar
            </button>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Telefone</th>
                    <th>Data Nascimento</th>
                    <th>Status</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="clientsTableBody">
                  <tr>
                    <td colspan="6" class="text-center">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Appointments Section -->
      <div id="appointments" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-calendar-alt"></i> Agendamentos</h2>
                <p class="text-muted">Gerencie os agendamentos da clínica</p>
              </div>
              <button class="btn btn-primary" onclick="showAddAppointmentModal()">
                <i class="fas fa-plus"></i> Novo Agendamento
              </button>
            </div>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-3">
            <label class="form-label">Data:</label>
            <input type="date" class="form-control" id="appointmentDate" onchange="filterAppointments()">
          </div>
          <div class="col-md-3">
            <label class="form-label">Status:</label>
            <select class="form-select" id="appointmentStatus" onchange="filterAppointments()">
              <option value="">Todos os status</option>
              <option value="scheduled">Agendado</option>
              <option value="confirmed">Confirmado</option>
              <option value="completed">Concluído</option>
              <option value="cancelled">Cancelado</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">Profissional:</label>
            <select class="form-select" id="appointmentStaff" onchange="filterAppointments()">
              <option value="">Todos os profissionais</option>
            </select>
          </div>
          <div class="col-md-3">
            <label class="form-label">&nbsp;</label>
            <button class="btn btn-outline-primary w-100 d-block" onclick="loadAppointments()">
              <i class="fas fa-sync-alt"></i> Atualizar
            </button>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Data/Hora</th>
                    <th>Cliente</th>
                    <th>Serviço</th>
                    <th>Profissional</th>
                    <th>Status</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="appointmentsTableBody">
                  <tr>
                    <td colspan="6" class="text-center">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Services Section -->
      <div id="services" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-concierge-bell"></i> Serviços</h2>
                <p class="text-muted">Gerencie os serviços oferecidos</p>
              </div>
              <button class="btn btn-primary" onclick="showAddServiceModal()">
                <i class="fas fa-plus"></i> Novo Serviço
              </button>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-8">
            <div class="card">
              <div class="card-body">
                <div class="table-responsive">
                  <table class="table table-hover">
                    <thead>
                      <tr>
                        <th>Nome</th>
                        <th>Categoria</th>
                        <th>Preço</th>
                        <th>Duração</th>
                        <th>Status</th>
                        <th>Ações</th>
                      </tr>
                    </thead>
                    <tbody id="servicesTableBody">
                      <tr>
                        <td colspan="6" class="text-center">
                          <div class="spinner-border text-primary" role="status">
                            <span class="visually-hidden">Carregando...</span>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card">
              <div class="card-header">
                <h5><i class="fas fa-chart-bar"></i> Estatísticas</h5>
              </div>
              <div class="card-body">
                <div id="serviceStats">
                  <div class="text-center">
                    <div class="spinner-border text-primary" role="status">
                      <span class="visually-hidden">Carregando...</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Staff Section -->
      <div id="staff" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-user-md"></i> Funcionários</h2>
                <p class="text-muted">Gerencie a equipe da clínica</p>
              </div>
              <button class="btn btn-primary" onclick="showAddStaffModal()">
                <i class="fas fa-plus"></i> Novo Funcionário
              </button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Email</th>
                    <th>Cargo</th>
                    <th>Especialização</th>
                    <th>Status</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="staffTableBody">
                  <tr>
                    <td colspan="6" class="text-center">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Financial Section -->
      <div id="financial" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-money-bill-wave"></i> Financeiro</h2>
                <p class="text-muted">Controle financeiro da clínica</p>
              </div>
              <button class="btn btn-primary" onclick="showAddTransactionModal()">
                <i class="fas fa-plus"></i> Nova Transação
              </button>
            </div>
          </div>
        </div>

        <div class="row mb-4">
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--success-color);">
              <div class="card-body">
                <h6 class="card-title">Receitas do Mês</h6>
                <h3 class="mb-0" id="monthlyIncome">R$ 0,00</h3>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--danger-color);">
              <div class="card-body">
                <h6 class="card-title">Despesas do Mês</h6>
                <h3 class="mb-0" id="monthlyExpenses">R$ 0,00</h3>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--secondary-color);">
              <div class="card-body">
                <h6 class="card-title">Lucro do Mês</h6>
                <h3 class="mb-0" id="monthlyProfit">R$ 0,00</h3>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="card text-white" style="background-color: var(--warning-color);">
              <div class="card-body">
                <h6 class="card-title">Pendências</h6>
                <h3 class="mb-0" id="pendingPayments">R$ 0,00</h3>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <h5><i class="fas fa-list"></i> Transações Recentes</h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Data</th>
                    <th>Tipo</th>
                    <th>Descrição</th>
                    <th>Cliente</th>
                    <th>Valor</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody id="transactionsTableBody">
                  <tr>
                    <td colspan="6" class="text-center">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- Inventory Section -->
      <div id="inventory" class="content-section" style="display: none;">
        <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <div>
                <h2><i class="fas fa-boxes"></i> Estoque</h2>
                <p class="text-muted">Controle de inventário</p>
              </div>
              <button class="btn btn-primary" onclick="showAddInventoryModal()">
                <i class="fas fa-plus"></i> Novo Item
              </button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Nome</th>
                    <th>Categoria</th>
                    <th>Quantidade</th>
                    <th>Estoque Mínimo</th>
                    <th>Preço</th>
                    <th>Fornecedor</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="inventoryTableBody">
                  <tr>
                    <td colspan="7" class="text-center">
                      <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="frontend/app.js"></script>
</body>
</html>